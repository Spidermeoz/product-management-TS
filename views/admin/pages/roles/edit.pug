extends ../../layouts/default.pug
include ../../mixins/alert.pug
include ../../mixins/select-tree.pug
include ../../mixins/deny-access.pug

block main
    .col-lg-10
        .main-content#mainContent(role="main")
            if(authRole.permissions.includes('roles_edit'))
                +alert-error(5000)
                +alert-success(5000)

                section#product-edit.content-section
                    .card.form-card
                        .card-header.d-flex.justify-content-between.align-items-center
                            h5.mb-0
                                i.fas.fa-edit.mr-2
                                | #{pageTitle}
                            a.btn.btn-outline-secondary.btn-sm(href=`/${prefixAdmin}/roles`)
                                i.fas.fa-arrow-left.mr-1
                                | Quay lại danh sách

                        .card-body
                            form#form-edit-product(
                                action=`/${prefixAdmin}/roles/edit/${role._id}?_method=PATCH`
                                method="POST"
                                novalidate
                            )
                                .form-row
                                    .col-md-8
                                        // Tiêu đề
                                        .form-group
                                            label(for="title") Tiêu đề
                                            .input-with-icon
                                                i.fas.fa-heading.input-icon
                                                input#title.form-control(
                                                    type="text"
                                                    name="title"
                                                    required
                                                    aria-required="true"
                                                    placeholder="Nhập tiêu đề nhóm quyền"
                                                    value=role.title
                                                )
                                            .invalid-feedback Vui lòng nhập tiêu đề.

                                        // Mô tả
                                        .form-group
                                            label(for="desc") Mô tả
                                            textarea.textarea-mce#desc.form-control(
                                                name="description"
                                                rows="6"
                                                placeholder="Mô tả ngắn gọn về sản phẩm"
                                            ) !{role.description}

                                // Actions
                                .form-actions.d-flex.justify-content-end.mt-3
                                    button.btn.btn-primary.btn-glow(type="submit")
                                        i.fas.fa-save.mr-2
                                        | Cập nhật
                    script(src="/admin/js/product.js")
            else 
                +deny-access()